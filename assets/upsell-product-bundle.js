(()=>{function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,r(n.key),n)}}function r(t){var r=function(t,r){if("object"!=e(t)||!t)return t;var o=t[Symbol.toPrimitive];if(void 0!==o){var n=o.call(t,r||"default");if("object"!=e(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==e(r)?r:String(r)}function o(t,r,o){return r=a(r),function(t,r){if(r&&("object"===e(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return n(t)}(t,c()?Reflect.construct(r,o||[],a(t).constructor):r.apply(t,o))}function n(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function i(e){var t="function"==typeof Map?new Map:void 0;return i=function(e){if(null===e||!function(e){try{return-1!==Function.toString.call(e).indexOf("[native code]")}catch(t){return"function"==typeof e}}(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return function(e,t,r){if(c())return Reflect.construct.apply(null,arguments);var o=[null];o.push.apply(o,t);var n=new(e.bind.apply(e,o));return r&&s(n,r.prototype),n}(e,arguments,a(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),s(r,e)},i(e)}function c(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(c=function(){return!!e})()}function s(e,t){return s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},s(e,t)}function a(e){return a=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},a(e)}var u={init:function(){this.handleSwiperUpsell(),this.handChecked(),this.handleChangeVatiant(),this.comparePrdUpselAndprdDetail(),this.productBundle()},handleSwiperUpsell:function(){var e=document.querySelector(".tp-upsell__slider"),t=Number(e.dataset.spaceBetween),r=Number(e.dataset.desktop),o="true"===e.dataset.loop,n="true"===e.dataset.autoplay;new Swiper(e,{slidesPerView:1.5,slidesPerGroup:1.5,spaceBetween:t,loop:o,autoplay:n,freeMode:!0,preventClicks:!0,a11y:!1,scrollbar:{el:".swiper-scrollbar",draggable:!0},breakpoints:{410:{slidesPerView:2,slidesPerGroup:2},768:{slidesPerView:3,slidesPerGroup:3},1024:{slidesPerView:r,slidesPerGroup:r,spaceBetween:t}},navigation:{nextEl:".swiper-next-upsell",prevEl:".swiper-prev-upsell"},pagination:{clickable:!0,el:".swiper-pagination-upsell"}})},handleChangeVatiant:function(){var e=this;document.querySelectorAll("variant-select-upsell .select__select").forEach((function(t){t.addEventListener("change",(function(r){var o=r.target,n=t.options[t.selectedIndex],i=n.getAttribute("data-price"),c=n.getAttribute("data-price-compare"),s=n.getAttribute("data-src");e.handleImage(s,o),window.handlePriceUpsellBundle.renderPrice(i,c,"",o)}))}))},handleImage:function(e,t){var r=t.closest(".tp-prd-upsell");if(r){var o=r.querySelector(".tp__responsive-image img"),n=e+" 165w, "+e+" 330w, "+e+" 535w, "+e+" 750w, "+e+" 1000w, "+e+" 1500w, "+e+" 3000w ";o.setAttribute("srcset",n),o.setAttribute("src",e)}},handChecked:function(){var e=this;document.addEventListener("change",(function(t){var r=t.target;if(r.classList.contains("upsellcheckbox")){var o=r.closest(".tp-prd-upsell");0==r.checked?o.classList.remove("upsell-checked"):o.classList.add("upsell-checked")}e.handleTotalPrice()}))},handleTotalPrice:function(){var e=document.querySelector(".tp-upsell .total-product"),t=0;if(e){var r=document.querySelectorAll(".tp-prd-upsell"),o=e.querySelector(".tp-upsell__price");if(0==r)return;r.forEach((function(e){if(e.classList.contains("upsell-checked")){var r=Number(e.dataset.pricePrd);t+=r}}));var n=window.formatCurrency(t);o.textContent=n}},comparePrdUpselAndprdDetail:function(){var e=document.querySelector(".tp-main-prd"),t=document.querySelector(".tp-upsell");(e||t)&&t.querySelectorAll(".tp-prd-upsell").forEach((function(t){t.dataset.prdUpsell==e.dataset.productId&&(t.querySelector(".upsellcheckbox").classList.add("pointer-events-none"),t.querySelector(".checkbox-wrapper span").classList.remove("cursor-pointer"),t.querySelector(".checkbox-wrapper span").classList.add("opacity-40"))}))},productBundle:function(){customElements.get("product-bundel")||customElements.define("product-bundel",function(e){function r(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),(e=o(this,r)).form=e.querySelector("form"),e.form&&e.form.addEventListener("submit",e.onSubmitHandler.bind(n(e))),e.cart=document.querySelector("cart-notification")||document.querySelector("cart-drawer"),e.submitButton=e.querySelector('[type="submit"]'),document.querySelector("cart-drawer")&&e.submitButton.setAttribute("aria-haspopup","dialog"),e.hideErrors="true"===e.dataset.hideErrors,e}var i,c,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&s(e,t)}(r,e),i=r,c=[{key:"onSubmitHandler",value:function(e){var t=this;if(e.preventDefault(),"true"!==this.submitButton.getAttribute("aria-disabled")){this.handleErrorMessage(),this.submitButton.setAttribute("aria-disabled",!0),this.querySelector(".product-form-btn-text").classList.add("opacity-0"),this.querySelector(".tp-loading").classList.remove("opacity-0");var r=new FormData(this.form),o={sections:this.cart.getSectionsToRender().map((function(e){return e.id})),items:[]};document.querySelectorAll("variant-select-upsell .select__select").forEach((function(e){if(e.closest(".tp-prd-upsell").classList.contains("upsell-checked")){var t=e.options[e.selectedIndex];o.items.push({id:t.value})}})),fetch(window.Shopify.routes.root+"cart/add.js",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)}).then((function(e){return e.json()})).then((function(e){if(e.status){publish(PUB_SUB_EVENTS.cartError,{source:"product-form",productVariantId:r.get("id"),errors:e.errors||e.description,message:e.message}),t.handleErrorMessage(e.description);var o=t.submitButton.querySelector(".sold-out-message");if(!o)return;return t.submitButton.setAttribute("aria-disabled",!0),t.submitButton.querySelector("span").classList.add("hidden"),o.classList.remove("hidden"),void(t.error=!0)}if(t.cart){t.error||publish(PUB_SUB_EVENTS.cartUpdate,{source:"product-form",productVariantId:r.get("id")}),t.error=!1;var n=t.closest("quick-add-modal");n?(document.body.addEventListener("modalClosed",(function(){setTimeout((function(){t.cart.renderContents(e)}))}),{once:!0}),n.hide(!0)):t.cart.renderContents(e)}else window.location=window.routes.cart_url})).catch((function(e){console.error(e)})).finally((function(){t.cart&&t.cart.classList.contains("is-empty")&&t.cart.classList.remove("is-empty"),t.error||t.submitButton.removeAttribute("aria-disabled"),t.querySelector(".product-form-btn-text").classList.remove("opacity-0"),t.querySelector(".tp-loading").classList.add("opacity-0")}))}}},{key:"handleErrorMessage",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.hideErrors||e&&window.showNotifications(e)}}],c&&t(i.prototype,c),a&&t(i,a),Object.defineProperty(i,"prototype",{writable:!1}),r}(i(HTMLElement)))}};u.init(),document.addEventListener("shopify:section:load",u),document.addEventListener("shopify:section:unload",u)})();