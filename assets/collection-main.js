(()=>{function t(){var t={init:function(){this.clickBtnDesc()},clickBtnDesc:function(){document.querySelector(".pdp_view_description_button")&&document.addEventListener("click",(function(t){t.target.classList.contains("pdp_view_description_button")&&("more"===t.target.getAttribute("data-view")&&(document.querySelector(".desc-content").classList.add("open"),document.querySelector('.pdp_view_description_button[data-view="less"]').classList.remove("hidden"),t.target.classList.add("hidden")),"less"===t.target.getAttribute("data-view")&&(document.querySelector(".desc-content").classList.remove("open"),document.querySelector('.pdp_view_description_button[data-view="more"]').classList.remove("hidden"),t.target.classList.add("hidden")))}))}},e={init:function(){this.loadMorePrd()},loadMorePrd:function(){document.querySelector("#product-grid")&&(this.clickLoadMore(),this.scrollLoadMore())},clickLoadMore:function(){var t=this;document.addEventListener("click",(function(e){if(e.target.classList.contains("load-more_btn")){var o=document.querySelector("#loadmore-collection");if(o){var r=o.getAttribute("data-type"),i=document.querySelector(".load-more_btn");"click"===r&&t.loadMoreProducts(o,i)}}}))},scrollLoadMore:function(){var t=this;window.addEventListener("scroll",(function(e){var o=document.querySelector("#loadmore-collection");if(o){var r=o.getAttribute("data-type"),i=document.querySelector(".load-more_btn");if("scroll"==r){var n=o.getBoundingClientRect();n.top>=0&&n.bottom<=window.innerHeight&&!o.getAttribute("loading")&&t.loadMoreProducts(o,i)}}}))},loadMoreProducts:function(t,e){t.setAttribute("loading","true");var o=document.querySelector("#product-grid");if(o){var r=o.getAttribute("data-url");r&&fetch(r).then((function(t){return t.text()})).then((function(t){var r,i,n=(new DOMParser).parseFromString(t,"text/html"),c=n.querySelector("#product-grid"),d=c.querySelectorAll(".tp-grid__item"),a=document.querySelector(".load-more-amount"),s=document.querySelector(".load-more-percent");a&&(a.innerHTML=n.querySelector(".load-more-amount")?null===(r=n.querySelector(".load-more-amount"))||void 0===r?void 0:r.textContent:""),s&&(s.style.width=null===(i=n.querySelector(".load-more-percent"))||void 0===i?void 0:i.style.width),d.length>0&&d.forEach((function(t){o.appendChild(t)})),c.getAttribute("data-url")?o.setAttribute("data-url",c.getAttribute("data-url")):(o.removeAttribute("data-url"),e.style.display="none")})).then((function(){t.removeAttribute("loading")})).finally((function(){window.tpCountdownTimer.init(),window.tpColorSwatchesShopify.init()})).catch((function(t){console.log(t)}))}}};({init:function(){this.gridMode()},gridMode:function(){var t=this;document.addEventListener("click",(function(e){var o=e.target,r=o.classList.contains("action-col-prd"),i=o.classList.contains("btn-filter__innner"),n=o.classList.contains("btn-close-filter__innner"),c=o.closest(".facets-wrapper");if(r){var d=o.closest(".action-col-prd-list").querySelector(".active");null==d||d.classList.remove("active"),o.classList.add("active");var a=o.dataset.type;t.setColGrid(a)}i&&t.showFilter(o),(n||!i&&!c)&&t.closeFilter(o)})),innerWidth<=767&&t.setColGrid(2)},setColGrid:function(t){var e=document.querySelector(".tp-grid.product-grid");if(e){var o="tp-grid product-grid tp-grid--".concat(t,"-col-desktop tp-grid--2-col-mobile list-none");e.setAttribute("class",o);var r={attributes:{collection_products_column_show:parseInt(t)}};fetch(window.Shopify.routes.root+"cart/update.js",{method:"POST",credentials:"same-origin",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)}).then((function(t){return t.json()})).then((function(t){})).catch((function(t){console.error("Request failed",t)}))}},showFilter:function(t){var e=document.querySelector(".tp-close-overlay"),o=t.closest(".tp-main-clc").querySelector(".facets-wrapper");null==o||o.classList.add("show-facets-wrapper"),e.classList.add("is--visible")},closeFilter:function(){var t=document.querySelector(".tp-close-overlay"),e=document.querySelector(".facets-wrapper");null==e||e.classList.remove("show-facets-wrapper"),t.classList.remove("is--visible")}}).init(),t.init(),e.init()}t(),document.addEventListener("shopify:section:load",t),document.addEventListener("shopify:section:unload",t)})();