(()=>{function e(e,r){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=function(e,r){if(!e)return;if("string"==typeof e)return n(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return n(e,r)}(e))||r&&e&&"number"==typeof e.length){t&&(e=t);var o=0,a=function(){};return{s:a,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,c=!0,s=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return c=e.done,e},e:function(e){s=!0,i=e},f:function(){try{c||null==t.return||t.return()}finally{if(s)throw i}}}}function n(e,n){(null==n||n>e.length)&&(n=e.length);for(var r=0,t=new Array(n);r<n;r++)t[r]=e[r];return t}window.loadContry=function(){Shopify.formatMoney=function(e,n){"string"==typeof e&&(e=e.replace(".",""));var r="",t=/\{\{\s*(\w+)\s*\}\}/,o=n||this.money_format;function a(e,n){return void 0===e?n:e}function i(e,n,r,t){if(n=a(n,2),r=a(r,","),t=a(t,"."),isNaN(e)||null==e)return 0;var o=(e=(e/100).toFixed(n)).split(".");return o[0].replace(/(\d)(?=(\d\d\d)+(?!\d))/g,"$1"+r)+(o[1]?t+o[1]:"")}switch(o.match(t)[1]){case"amount":r=i(e,2);break;case"amount_no_decimals":r=i(e,0);break;case"amount_with_comma_separator":r=i(e,2,".",",");break;case"amount_no_decimals_with_comma_separator":r=i(e,0,".",",")}return o.replace(t,r)},new Shopify.CountryProvinceSelector("address_country","address_province",{hideElement:"address_province_container"}),document.querySelector(".tp__addon-actions .btn-save").addEventListener("click",(function(n){!function(n){n.preventDefault();var r={};function t(n){fetch("".concat(window.Shopify.routes.root,"cart/shipping_rates.json?shipping_address%5Bzip%5D=").concat(n.zip,"&shipping_address%5Bcountry%5D=").concat(n.country,"&shipping_address%5Bprovince%5D=").concat(n.province)).then((function(e){return e.text()})).then((function(r){var t,o=document.querySelector(".tp__addon-message"),a=e(document.querySelectorAll(".tp__addon-message p"));try{for(a.s();!(t=a.n()).done;){t.value.remove()}}catch(e){a.e(e)}finally{a.f()}var i=JSON.parse(r);if(i&&i.shipping_rates)if(i.shipping_rates.length>0){o.classList.remove("error","warning"),o.classList.add("success");var c=document.createElement("p");c.innerText=cartStrings.shipping_rate.replace("{{address}}",n.zip+", "+n.country+" "+n.province),o.appendChild(c),i.shipping_rates.map((function(e){var n=document.createElement("p");n.innerHTML=e.name+": "+Shopify.formatMoney(e.price,cartStrings.money_format),o.appendChild(n)}))}else{o.classList.remove("error","success"),o.classList.add("warning");var s=document.createElement("p");s.innerText=cartStrings.no_shipping,o.appendChild(s)}else o.classList.remove("success","warning"),o.classList.add("error"),Object.entries(i).map((function(e){var n="".concat(e[1][0]),r=document.createElement("p");r.innerText=n,o.appendChild(r)}))})).catch((function(e){throw e}))}r.zip=document.querySelector("#AddressZip").value||"",r.country=document.querySelector("#address_country").value||"",r.province=document.querySelector("#address_province").value||"",t(r)}(n)}))},window.loadContry()})();