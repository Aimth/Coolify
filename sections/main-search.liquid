{{ 'component-search.css' | asset_url | stylesheet_tag }}
{{ 'template-collection.css' | asset_url | stylesheet_tag }}
{{ 'component-price.css' | asset_url | stylesheet_tag }}
<script src="{{ 'collection-main.js' | asset_url }}" defer="defer"></script>

{% liquid
  assign gst = settings
  assign sst = section.settings
  assign container = sst.container
  assign filter_type = sst.filter_type
  assign enable_sorting = sst.enable_sorting
  assign show_product_count = sst.show_product_count
  assign show_list_grid = sst.show_list_grid
  assign columnProductSettings = sst.column_number | plus: 0
  assign column_show = columnProductSettings
  assign column_show = cart.attributes.collection_products_column_show | default: columnProductSettings | plus: 0
  if column_show > columnProductSettings
    assign column_show = columnProductSettings
  endif
%}
{%- capture style -%}
  --section-padding-top: {{ sst.padding_top }}px; 
  --section-padding-bottom: {{ sst.padding_bottom }}px;
{%- endcapture -%}

{%- liquid
  assign sort_by = search.sort_by | default: search.default_sort_by
  assign terms = search.terms | escape
  assign search_url = '?q=' | append: terms | append: '&options%5Bprefix%5D=last&sort_by=' | append: sort_by
-%}

<div
  class="tp-main-clc color-{{ sst.color_scheme }} gradient section-py section-mb product-item-list"
  style="{{ style | strip | strip_newlines }}"
>
  <div class="{{ container }}">
    {% paginate search.results by 24 %}
      <div class="template-search{% unless search.performed and search.results_count > 0 %} template-search--empty{% endunless %}">
        <div class="template-search__header">
          <h1 class="h2 text-center">

          {%- if search.results_count == 0 and search.filters == empty -%}
            {{- 'templates.search.title' | t -}}
          {% else %}
          {{- 'templates.search.search_for' | t: terms: search.terms, count: search.results_count -}}
          {%- endif -%}

            {% comment %} {%- if search.performed -%}
              {{- 'templates.search.title' | t -}}
            {%- else -%}
            {{- 'templates.search.search_for' | t: terms: search.terms, count: search.results_count -}}
            {%- endif -%} {% endcomment %}
          </h1>
          {% comment %} <p data-predictive-search-search-for-text class="text-center text-xl font-medium">
              {{- 'templates.search.search_for' | t: terms: search.terms, count: search.results_count -}}
            </p> {% endcomment %}
          <div class="template-search__search">
            <main-search>
              <form action="{{ routes.search_url }}" method="get" role="search" class="search">
                <div class="field flex items-stretch m-auto gap-10">
                  <input
                    class="search__input field__input w-full"
                    id="Search-In-Template"
                    type="search"
                    name="q"
                    value="{{ search.terms | escape }}"
                    placeholder="{{ 'general.search.search' | t }}"
                  >
                  <input name="options[prefix]" type="hidden" value="last">
                  <button
                    type="submit"
                    class="search__button field__button"
                    aria-label="{{ 'general.search.search' | t }}"
                  >
                    {% render 'icon', icon_name: 'search', width: 20, height: 20 %}
                  </button>
                </div>
              </form>
            </main-search>
          </div>
          {%- if search.performed -%}
            {%- unless section.settings.enable_filtering or section.settings.enable_sorting -%}
              {%- if search.results_count > 0 -%}
                <p role="status" class="text-center">
                  {{
                    'templates.search.results_with_count_and_term'
                    | t: terms: search.terms, count: search.results_count
                  }}
                </p>
              {%- endif -%}
            {%- endunless -%}
            {%- if search.results_count == 0 and search.filters == empty -%}
              <p role="status" class="text-center">{{ 'templates.search.no_results' | t: terms: search.terms }}</p>
            {% comment %} {% else %}
              <h2>{{- 'templates.search.results_with_count' | t: terms: search.terms, count: search.results_count -}}</h2> {% endcomment %}
            {%- endif -%}
          {%- endif -%}
        </div>
        {%- if search.performed -%}
          {%- if section.settings.enable_sorting
            and section.settings.filter_type == 'vertical'
            and search.filters != empty
          -%}
            <facet-filters-form class="facets facets-vertical-sort page-width small-hide no-js-hidden">
              <form class="facets-vertical-form" id="FacetSortForm">
                <div class="facet-filters sorting caption">
                  <div class="facet-filters__field">
                    <h2 class="facet-filters__label caption-large text-body">
                      <label for="SortBy">{{ 'products.facets.sort_by_label' | t }}</label>
                    </h2>
                    <div class="select">
                      {%- assign sort_by = search.sort_by | default: search.default_sort_by -%}
                      <select
                        name="sort_by"
                        class="facet-filters__sort select__select caption-large"
                        id="SortBy"
                        aria-describedby="a11y-refresh-page-message"
                      >
                        {%- for option in search.sort_options -%}
                          <option
                            value="{{ option.value | escape }}"
                            {% if option.value == sort_by %}
                              selected="selected"
                            {% endif %}
                          >
                            {{ option.name | escape }}
                          </option>
                        {%- endfor -%}
                      </select>
                      {% render 'icon', icon_name: 'icon-caret' %}
                    </div>
                  </div>
                  <noscript>
                    <button type="submit" class="facets__button-no-js button button--secondary">
                      {{ 'products.facets.sort_button' | t }}
                    </button>
                  </noscript>
                </div>

                <div class="product-count-vertical light" role="status">
                  <h2 class="product-count__text text-body">
                    <span id="ProductCountDesktop">
                      {%- if search.results_count -%}
                        {{
                          'templates.search.results_with_count'
                          | t: terms: search.terms, count: search.results_count
                        }}
                      {%- elsif search.products_count == search.all_products_count -%}
                        {{ 'products.facets.product_count_simple' | t: count: search.products_count }}
                      {%- else -%}
                        {{
                          'products.facets.product_count'
                          | t: product_count: search.products_count, count: search.all_products_count
                        }}
                      {%- endif -%}
                    </span>
                  </h2>
                  <div class="loading-overlay__spinner">
                    <svg
                      aria-hidden="true"
                      focusable="false"
                      class="spinner"
                      viewBox="0 0 66 66"
                      xmlns="http://www.w3.org/2000/svg"
                    >
                      <circle class="path" fill="none" stroke-width="6" cx="33" cy="33" r="30"></circle>
                    </svg>
                  </div>
                </div>
              </form>
            </facet-filters-form>
          {%- endif -%}
          <div class="{% if filter_type == 'left_sidebar' or filter_type == 'right_sidebar' %} facets-vertical flex {% if section.settings.background_sidebar == 'no_background' %} gap-60 {% else %}gap-30{% endif %}{% elsif filter_type == 'drawer' %}facets-drawer{% endif %} {% if filter_type == 'right_sidebar' %} flex-row-reverse{% endif %}">
            {{ 'component-facets.css' | asset_url | stylesheet_tag }}
            <script src="{{ 'facets.js' | asset_url }}" defer="defer"></script>
            {%- if search.filters != empty -%}
              {%- if section.settings.enable_filtering or section.settings.enable_sorting -%}
                <aside
                  aria-labelledby="verticalTitle"
                  class="facets-wrapper{% unless section.settings.enable_filtering %} facets-wrapper--no-filters{% endunless %}{% if section.settings.filter_type != 'vertical' %} page-width{% endif %}"
                  id="main-search-filters"
                  data-id="{{ section.id }}"
                >
                  <div class="btn-close-filter absolute top-0 right-0 p-8 {% if filter_type == 'drawer' %}block{% else %}block lg:hidden{% endif %}">
                    <button class="btn-close-filter__innner flex items-center tp-icon-close">
                      {% render 'icon', icon_name: 'close', width: 15, height: 15 %}
                    </button>
                  </div>
                  {% render 'facets',
                    results: search,
                    enable_filtering: section.settings.enable_filtering,
                    enable_sorting: section.settings.enable_sorting,
                    filter_type: section.settings.filter_type,
                    paginate: paginate,
                    , background_sidebar: section.settings.background_sidebar
                    , block: block
                  %}
                </aside>
              {%- endif -%}
            {%- endif -%}
            {% if search.performed and search.results_count > 0 %}
              <div class="product-grid-container" id="ProductGridContainer">
                <div class="tp-main-clc__topbar">

                  {% comment %} <div class="flex justify-between items-stretch flex-col md:flex-row">
                    <div class="topbar-left flex items-center justify-between gap-24 mb-16 md:mb-0">
                      <h2 class="flex items-center gap-8 mb-0 h3">
                        <span class="title-collection">
                          {{ 'templates.search.title' | t }}
                        </span>
                        <span id="ProductCountDesktop" class="products-count p-7 bd-radius">
                          {%- if search.results_count -%}
                            {{ search.results_count }}
                          {%- else -%}
                            {{ 'products.facets.product_count_simple' | t: count: search.products_count }}
                          {%- endif -%}
                        </span>
                      </h2>
                    </div>
                    <div class="topbar-right flex items-center {% if enable_sorting %}justify-between{% else %}justify-end{% endif %} gap-24">
                      {%- if enable_sorting -%}
                        <facet-filters-form class="facets facets-vertical-sort no-js-hidden">
                          <form class="facets-vertical-form" id="FacetSortForm">
                            {%- assign sort_by = search.sort_by | default: search.default_sort_by -%}
                            <div class="facet-filters sorting">
                              <div class="facet-filters__field">
                                <button
                                  type="button"
                                  class="btn-select-filter-sort"
                                  data-value="{{ sort_by }}"
                                >
                                  <span>
                                    {%- for option in search.sort_options -%}
                                      {% if option.value == sort_by %}
                                        {% assign sortByActiveName = option.name %}
                                        {% break %}
                                      {% endif %}
                                    {%- endfor -%}

                                    {{ sortByActiveName }}
                                  </span>
                                  {% render 'icon', icon_name: 'dropdown', class: 'pointer-events-none' %}
                                </button>

                                <div
                                  aria-describedby="a11y-refresh-page-message"
                                  class="facet-filters__sort {% if filter_type == 'drawer' %}left-0{% endif %}"
                                  id="SortBy"
                                  name="sort_by"
                                >
                                  <input
                                    type="hidden"
                                    name="sort_by"
                                    value="{{ sort_by }}"
                                  >

                                  {%- for option in search.sort_options -%}
                                    <span
                                      value="{{ option.value }}"
                                      class="item-sort{% if option.value == sort_by %} is-selected{% endif %}"
                                    >
                                      {{- option.name | escape -}}
                                    </span>
                                  {%- endfor -%}
                                </div>
                              </div>
                            </div>
                          </form>
                        </facet-filters-form>
                      {%- endif -%}
                      <div class="action-col-prd-list flex items-center gap-24">
                        <ul class="list-grid-bar flex items-center gap-20 list-none">
                          <li
                            flow="up"
                            tooltip="Grid"
                            class="{% if column_show != 1 %}active {% endif %} action-col-prd"
                            data-type="{{ sst.column_number }}"
                            data-view="grid">
                            <span class="pointer-events-none block">
                              {% render 'icon'
                                , icon_name: 'icon-grid' %}
                            </span>
                          </li>
    
                          <li
                            flow="up"
                            tooltip="{{ 'tooltip.list' | t }}"
                            class="{% if column_show == 1 %}active {% endif %}action-col-prd grid-1-col"
                            data-type="1"
                            data-view="list">
                            <span class="pointer-events-none block">
                              {% render 'icon'
                                , icon_name: 'icon-grid-1-col' %}
                            </span>
                          </li>
                        </ul>
                        {% unless filter_type == 'no_sidebar' %}
                          <div class="btn-filter {% if filter_type == 'drawer' %}block{% else %}block lg:hidden{% endif %}">
                            <button class="btn-filter__innner flex items-center px-16 py-8 bg-primary tp-icon-close uppercase font-bold text-sm">
                              {{ 'products.facets.filter_button' | t }}
                            </button>
                          </div>
                        {% endunless %}
                      </div>
                    </div>
                  </div> {% endcomment %}

                  <div class="flex justify-between items-stretch flex-col md:flex-row mb-40">
                    <div class="topbar-left flex items-center justify-between gap-20 mb-16 md:mb-0">
                      <div class="action-col-prd-list flex items-center gap-24">
                        {% if show_list_grid %}
                          <ul class="list-grid-bar flex items-center gap-20 list-none">
                            <li
                              flow="up"
                              tooltip="Grid"
                              class="{% if column_show != 1 %}active {% endif %} action-col-prd"
                              data-type="{{ sst.column_number }}"
                              data-view="grid">
                              <span class="pointer-events-none block">
                                {% render 'icon'
                                  , icon_name: 'icon-grid' %}
                              </span>
                            </li>
      
                            <li
                              flow="up"
                              tooltip="{{ 'tooltip.list' | t }}"
                              class="{% if column_show == 1 %}active {% endif %}action-col-prd grid-1-col"
                              data-type="1"
                              data-view="list">
                              <span class="pointer-events-none block">
                                {% render 'icon'
                                  , icon_name: 'icon-grid-1-col' %}
                              </span>
                            </li>
                          </ul>
                        {% endif %}
      
                        {% unless filter_type == 'no_sidebar' %}
                          <div class="btn-filter {% if filter_type == 'drawer' %}block{% else %}block lg:hidden{% endif %}">
                            <button class="btn-filter__innner flex items-center px-16 py-8 bg-primary tp-icon-close uppercase  text-sm">
                              {{ 'products.facets.filter_button' | t }}
                            </button>
                          </div>
                        {% endunless %}
                      </div>
                      {% comment %} <p class="mb-0">Showing {{ 'products.facets.product_count_simple' | t: count: collection.products_count }} of {{ collection.products_count }} products</p> {% endcomment %}
                      {% if show_product_count %}
                        <div class="product-count-clc" role="status">                
                          <p class="flex items-center gap-8 mb-0 h6">
                            <span class="title-collection">
                              {{ 'templates.search.title' | t }}
                            </span>
                            <span id="ProductCountDesktop" class="products-count p-7 bd-radius">
                              {%- if search.results_count -%}
                                {{ search.results_count }}
                              {%- else -%}
                                {{ 'products.facets.product_count_simple' | t: count: search.products_count }}
                              {%- endif -%}
                            </span>
                          </p>
                        </div>
                      {% endif %}
                    </div>
                    {%- if enable_sorting -%}
                      <div class="topbar-right flex items-center gap-20">
                        <p class="mb-0">{{ 'products.facets.sort_by_label' | t }}</p>
                          <facet-filters-form class="facets facets-vertical-sort no-js-hidden">
                            <form class="facets-vertical-form" id="FacetSortForm">
                              {%- assign sort_by = search.sort_by | default: search.default_sort_by -%}
                              <div class="facet-filters sorting">
                                <div class="facet-filters__field">
                                  <button
                                    type="button"
                                    class="btn-select-filter-sort"
                                    data-value="{{ sort_by }}"
                                  >
                                    <span>
                                      {%- for option in search.sort_options -%}
                                        {% if option.value == sort_by %}
                                          {% assign sortByActiveName = option.name %}
                                          {% break %}
                                        {% endif %}
                                      {%- endfor -%}
  
                                      {{ sortByActiveName }}
                                    </span>
                                    {% render 'icon', icon_name: 'dropdown', class: 'pointer-events-none' %}
                                  </button>
  
                                  <div
                                    aria-describedby="a11y-refresh-page-message"
                                    class="facet-filters__sort {% if filter_type == 'drawer' %}left-0{% endif %}"
                                    id="SortBy"
                                    name="sort_by"
                                  >
                                    <input
                                      type="hidden"
                                      name="sort_by"
                                      value="{{ sort_by }}"
                                    >
  
                                    {%- for option in search.sort_options -%}
                                      <span
                                        value="{{ option.value }}"
                                        class="item-sort{% if option.value == sort_by %} is-selected{% endif %}"
                                      >
                                        {{- option.name | escape -}}
                                      </span>
                                    {%- endfor -%}
                                  </div>
                                </div>
                              </div>
                            </form>
                          </facet-filters-form>
                      </div>
                    {%- endif -%}
                  </div>     

                  <div class="active-facets flex flex-wrap items-center gap-12 mb-32">
                    {%- for filter in search.filters -%}
                      {%- for value in filter.active_values -%}
                        {% assign activeValueCount = forloop.length %}
                        <facet-remove class="item-active p-8 mt-24 bd-radius">
                          <a href="{{ value.url_to_remove }}" class="flex items-center gap-8">
                            <span> {% render 'icon', icon_name: 'icon-close-border' %}</span>
                            <span class="text-sm">
                              {{ filter.label }}:
                              {{ value.label | escape }}
                            </span>
                          </a>
                        </facet-remove>
                      {%- endfor -%}
                      {% if filter.type == 'price_range' %}
                        {%- if filter.min_value.value != null or filter.max_value.value != null -%}
                          <facet-remove class="item-active p-8 mt-24">
                            <a href="{{ filter.url_to_remove }}" class="flex items-center gap-8">
                              <span> {% render 'icon', icon_name: 'icon-close-border' %}</span>
                              <span class="text-sm">
                                {%- if filter.min_value.value -%}
                                  {{ filter.min_value.value | money }}
                                {%- else -%}
                                  {{ 0 | money }}
                                {%- endif -%}
                                -
                                {%- if filter.max_value.value -%}
                                  {{ filter.max_value.value | money }}
                                {%- else -%}
                                  {{ filter.range_max | money }}
                                {%- endif -%}
                              </span>
                            </a>
                          </facet-remove>
                        {%- endif -%}
                      {% endif %}

                      {% if filter.min_value.value != null or filter.max_value.value != null or activeValueCount > 0 %}
                        {% assign showClearAll = true %}
                      {% endif %}
                    {%- endfor -%}

                    {% if showClearAll %}
                      <a href="/search" class="clear-all mt-24">
                        {{- 'sections.collection_template.clear_all' | t -}}
                      </a>
                    {% endif %}
                  </div>
                </div>
                


                {%- if search.results.size == 0 and search.filters != empty -%}
                  <div
                    class="template-search__results collection collection--empty{% if section.settings.filter_type != 'vertical' %} page-width{% endif %}"
                    id="product-grid"
                    data-id="{{ section.id }}"
                  >
                    <div class="loading-overlay gradient"></div>
                    <div class="title-wrapper center">
                      <h2 class="title title--primary">
                        {{ 'sections.collection_template.empty' | t -}}
                        <br>
                        {{
                          'sections.collection_template.use_fewer_filters_html'
                          | t: link: search_url, class: 'underlined-link link'
                        }}
                      </h2>
                    </div>
                  </div>
                {%- else -%}
                  <div
                    class="template-search__results collection js-tp-collection"
                    id="product-grid"
                    data-id="{{ section.id }}"
                  >
                    <div class="tp-loading-overlay gradient">
                      <span class="loading-notification"></span>
                    </div>
                    <div
                      id="product-grid"
                      data-id="{{ section.id }}"
                      class="tp-grid product-grid tp-grid--{{ column_show }}-col-desktop tp-grid--2-col-mobile list-none"
                      {% if paginate.next.url != blank %}
                        data-url="{{ paginate.next.url }}"
                      {% endif %}
                    >
                      {%- for item in search.results -%}
                        {% assign lazy_load = false %}
                        {%- if forloop.index > 2 -%}
                          {%- assign lazy_load = true -%}
                        {%- endif -%}
                        {%- case item.object_type -%}
                          {%- when 'product' -%}
                          <div
                            class="tp-grid__item"
                            {% if settings.animations_reveal_on_scroll %}
                              data-cascade
                            {% endif %}
                          >
                          {% render 'product-item-layout-1', card_product: item %}   
                          </div>
                        {%- endcase -%}
                      {%- endfor -%}
                    </div>
                    {%- if paginate.pages > 1 -%}
                      {% render 'pagination', paginate: paginate, position_pagination: 'justify-center' %}
                    {%- endif -%}
                  </div>
                {%- endif -%}
              </div>
            {% endif %}
          </div>
        {%- endif -%}
      </div>
    {% endpaginate %}
  </div>
</div>

{% schema %}
{
  "name": "t:sections.main-search.name",
  "tag": "section",
  "class": "section",
  "settings": [
    {
      "type": "header",
      "content": "General"
    },
    {
      "type": "select",
      "id": "container",
      "label": "Layout",
      "default": "container",
      "options": [
        {
          "value": "container",
          "label": "Default"
        },
        {
          "value": "container-fluid",
          "label": "Fluid container"
        },
        {
          "value": "full-width",
          "label": "Full width"
        }
      ]
    },
    {
      "type": "color_scheme",
      "id": "color_scheme",
      "label": "t:sections.all.colors.label",
      "default": "background-1"
    },
    {
      "type": "range",
      "id": "products_per_page",
      "min": 8,
      "max": 24,
      "step": 4,
      "default": 16,
      "label": "t:sections.main-collection-product-grid.settings.products_per_page.label"
    },
    {
      "type": "select",
      "id": "column_number",
      "label": "Column product on desktop",
      "options": [
        {
          "value": "2",
          "label": "2 column"
        },
        {
          "value": "3",
          "label": "3 column"
        },
        {
          "value": "4",
          "label": "4 column"
        }
      ],
      "default": "3"
    },
    {
      "type": "header",
      "content": "Filtering"
    },
    {
      "type": "checkbox",
      "id": "enable_filtering",
      "default": true,
      "label": "t:sections.main-collection-product-grid.settings.enable_filtering.label",
      "info": "t:sections.main-collection-product-grid.settings.enable_filtering.info"
    },
    {
      "type": "checkbox",
      "id": "collab_first",
      "label": "Enable auto open first collab",
      "default": true
    },
    {
      "type": "select",
      "id": "filter_type",
      "options": [
        {
          "value": "drawer",
          "label": "t:sections.main-collection-product-grid.settings.filter_type.options__3.label"
        },
        {
          "value": "left_sidebar",
          "label": "Left sidebar"
        },
        {
          "value": "right_sidebar",
          "label": "Right sidebar"
        },
        {
          "value": "no_sidebar",
          "label": "No sidebar"
        }
      ],
      "default": "drawer",
      "label": "Sidebar position on desktop"
    },
    {
        "type": "select",
        "id": "background_sidebar",
        "label": "Background type",
        "default": "background",
        "options": [
          {
            "value": "no_background",
            "label": "No background"
          }, {
            "value": "background",
            "label": "Has background"
          }
        ],
        "info": "Applies to type has a background"
      }, {
        "type": "color",
        "id": "bg_color_sidebar",
        "label": "Background sidebar",
        "default": "#EEF2F6"
      }, 
    {
      "type": "select",
      "id": "price_type",
      "default": "range_slider",
      "label": "Price filter type",
      "options": [
        {
          "value": "default",
          "label": "Default"
        },
        {
          "value": "range_slider",
          "label": "Range Sliders"
        }
      ]
    },
    {
        "type": "header",
        "content": "Toolbar settings"
      }, {
        "type": "checkbox",
        "id": "show_product_count",
        "default": true,
        "label": "Show product count"
      }, {
        "type": "checkbox",
        "id": "show_list_grid",
        "default": true,
        "label": "Show list, grid bar"
      }, {
        "type": "checkbox",
        "id": "enable_sorting",
        "default": true,
        "label": "t:sections.main-collection-product-grid.settings.enable_sorting.label"
      },
    {
      "type": "header",
      "content": "t:sections.all.padding.section_padding_heading"
    },
    {
      "type": "range",
      "id": "padding_top",
      "min": 0,
      "max": 100,
      "step": 4,
      "unit": "px",
      "label": "t:sections.all.padding.padding_top",
      "default": 36
    },
    {
      "type": "range",
      "id": "padding_bottom",
      "min": 0,
      "max": 100,
      "step": 4,
      "unit": "px",
      "label": "t:sections.all.padding.padding_bottom",
      "default": 36
    }
  ],
  "blocks": [
      {
        "type": "categories",
        "name": "Categories",
        "limit": 1,
        "settings": [
          {
            "type": "text",
            "id": "title",
            "label": "Title",
            "default": "Category"
          }, {
            "type": "collection_list",
            "id": "collection_list",
            "label": "Collections"
          }
        ]
      }, {
        "type": "filter",
        "name": "Filter",
        "limit": 1
      }, {
        "type": "popular_product",
        "name": "Popular product",
        "limit": 1,
        "settings": [
          {
            "type": "text",
            "id": "title",
            "label": "Title",
            "default": "Featured product"
          }, {
            "type": "product_list",
            "id": "product_list",
            "label": "Select product"
          }, {
            "type": "range",
            "id": "maximum",
            "label": "Maximum products to show",
            "min": 1,
            "max": 5,
            "step": 1,
            "default": 3
          }
        ]
      }, {
        "type": "image_banner",
        "name": "Image banner",
        "limit": 1,
        "settings": [
          {
            "type": "image_picker",
            "id": "image",
            "label": "Image banner",
            "info": "Upload image: png, jpg or gif file(1920 x 200px recommended)"
          },
          {
            "type": "url",
            "id": "link",
            "label": "Link"
          },
          {
            "type": "checkbox",
            "id": "open_link",
            "label": "Open link in new window",
            "default": false
          },
          {
            "type": "select",
            "id": "image_ratio",
            "default": "original",
            "label": "Image ratio",
            "options": [
              {
                "value": "original",
                "label": "Original aspect ratio"
              },
              {
                "value": "1/1",
                "label": "1:1"
              },
              {
                "value": "3/4",
                "label": "3:4"
              },
              {
                "value": "4/3",
                "label": "4:3"
              }, {
                "value": "16/9",
                "label": "16:9"
              }, {
                "value": "custom",
                "label": "Custom ratio"
              }
            ]
          }, {
            "type": "text",
            "id": "custom_ratio",
            "label": "Custom ratio",
            "default": "21:9"
          }, {
            "type": "checkbox",
            "id": "border_radius_img",
            "label": "Border radius image",
            "default": true
          }
        ]
      }
    ]
}
{% endschema %}
